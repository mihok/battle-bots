!function(t){var e={};function n(o){if(e[o])return e[o].exports;var s=e[o]={i:o,l:!1,exports:{}};return t[o].call(s.exports,s,s.exports,n),s.l=!0,s.exports}n.m=t,n.c=e,n.d=function(t,e,o){n.o(t,e)||Object.defineProperty(t,e,{configurable:!1,enumerable:!0,get:o})},n.r=function(t){Object.defineProperty(t,"__esModule",{value:!0})},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=1)}([function(t,e,n){"use strict";var o=function(){function t(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,n,o){return n&&t(e.prototype,n),o&&t(e,o),e}}();function s(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var i={health:100,power:100},r=function(){function t(){s(this,t),this.instance=null,this.subscribers=[],this.components={},this.actions=[],this.state=i,null===this.instance&&(this.instance=this)}return o(t,[{key:"subscribeToState",value:function(t){this.subscribers.push(t),t(this.state)}},{key:"subscribeToComponentState",value:function(t,e){this.components[t].subscribeToState(e)}},{key:"getActions",value:function(){return this.actions}},{key:"getComponents",value:function(){return this.components}},{key:"getComponentMethods",value:function(t){return this.components[t].getMethods()}},{key:"command",value:function(t,e){if(!this.components[t])throw new Error("Component "+t+" does not exist.");this.components[t].dispatch(e)}},{key:"reducer",value:function(t,n){switch(n.type){case e.TAKE_DAMAGE:return Object.assign({},this.state,{health:this.state.health-n.payload});case e.HEAL:return Object.assign({},this.state,{health:this.state.health+n.payload})}return this.state}},{key:"dispatch",value:function(t){this.state=this.reducer(this.state,t),this.emitChange()}},{key:"emitChange",value:function(){for(var t=0;t<this.subscribers.length;t++)this.subscribers[t](this.state)}}]),t}();e.TAKE_DAMAGE="[Core] Take Damage",e.HEAL="[Core] Heal";e.TakeDamageAction=function t(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};s(this,t),this.payload=n,this.type=e.TAKE_DAMAGE};e.HealAction=function t(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};s(this,t),this.payload=n,this.type=e.HEAL},e.core=new r},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=n(0);window.addEventListener("load",function(){console.log("TESTING"),console.log(o.core.getActions())},!1)}]);
//# sourceMappingURL=bundle.js.map